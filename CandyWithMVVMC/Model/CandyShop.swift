//
//  CandyShop.swift
//  CandyWithMVVMC
//
//  Created by William on 2021/1/13.
//  Copyright Â© 2021 William. All rights reserved.
//

import Foundation
import MapKit
import Contacts

class CandyShop: NSObject, MKAnnotation {
  let title: String?
  let locationName: String?
  let coordinate: CLLocationCoordinate2D
    
    var mapItem: MKMapItem? {
      guard let location = locationName else {
        return nil
      }

      let addressDict = [CNPostalAddressStreetKey: location]
      let placemark = MKPlacemark(
        coordinate: coordinate,
        addressDictionary: addressDict)
      let mapItem = MKMapItem(placemark: placemark)
      mapItem.name = title
      return mapItem
    }

  init(
    title: String?,
    locationName: String?,
    coordinate: CLLocationCoordinate2D
  ) {
    self.title = title
    self.locationName = locationName
    self.coordinate = coordinate
    super.init()
  }

  var subtitle: String? {
    return locationName
  }
}
